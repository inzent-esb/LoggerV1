import{b as F,u as Y,a as ne,h as ee,r as l,c as V,i as te,k as re,p as S,R as J,j as e,A as G,I as q,F as z,o as le,l as oe,m as ie,G as de,n as se,q as K,s as ue,M as _,t as ce,v as me,w as pe,B as v,x as O,y as X,z as xe,D as be,E as ge,H as Z,J as fe,K as he,L as ke,O as ye,N as Ie}from"../index.DUkh4MdH.js";import we from"./logo.9MJA7vR2.js";import ve from"./logo_wh.CMQQTI3M.js";function Ne(){const{t:a}=F(),k=Y(),T=ne(),{GlobalVariable:b,setGlobalVariable:N}=ee(),[n,c]=l.useState({}),[u,M]=l.useState([]),[I,C]=l.useState([]),[$,L]=l.useState(null),[P,j]=l.useState({display:"none"}),[U,W]=l.useState(!1),{openAlert:R}=V(),t=te();l.useEffect(()=>{if(localStorage.getItem("selectedNewTabMenuId")){const o=localStorage.getItem("selectedNewTabMenuId");if(localStorage.removeItem("selectedNewTabMenuId"),!o)return;N("selectedMenuId",o)}else{const o=sessionStorage.getItem("selectedMenuId")?String(sessionStorage.getItem("selectedMenuId")):"home";N("selectedMenuId",o)}const r=()=>{j({display:"none"})},h=o=>{let m=o.target;for(;m&&!m.className.includes("tgt");)m=m.parentElement;m||j({display:"none"})};return window.addEventListener("click",r),window.addEventListener("contextmenu",h),()=>{window.removeEventListener("click",r),window.removeEventListener("contextmenu",h)}},[]),l.useEffect(()=>{if(!b.selectedMenuId||!b.isMenuRefresh)return;const r=b.selectedMenuId,h=[];0<I.length&&I.forEach(o=>{o.expand&&h.push(o.menuId)}),0<u.length&&u[0].expand&&h.push(u[0].menuId),(async()=>{const{menuList:o}=await re();if(!o)return;if(r!=="home"&&!r.endsWith("bookmark")){let g=o.find(({menuId:f})=>f===r);for(g.current=!0;g;)g=o.find(({menuId:f})=>f===g.parentMenuId),g&&(g.expand=!0)}o.forEach(g=>{h.find(f=>f===g.menuId)&&(g.expand=!0)}),C(o),N("menuList",o),N("isMenuRefresh",!1);let m=await new k("/api/entity/menuBookmark/search").read({param:{object:{pk:{userId:b.userInfo.userId}}}});if(m.data.result!=="ok")return;const i=[{menuId:"bookmark",menuName:a("label.bookmark"),parentMenuId:"0",openWindow:"N",expand:!!r.endsWith("bookmark")}];i.forEach(g=>{h.find(f=>f===g.menuId)&&(g.expand=!0)}),m.data.object.forEach(({pk:{menuId:g}})=>{let f=o.find(D=>g===D.menuId);f=S(f,D=>{D.menuId=`${D.menuId}_bookmark`,D.parentMenuId="bookmark",D.current=r===D.menuId}),i.push(f)}),M(i),m=await new k("/api/page/properties").read({param:{pk:{propertyId:"Property.Menu",propertyKey:"default.home.menuId"},orderByKey:!0}});const E={menuId:"home",menuName:a("label.home"),parentMenuId:"0",openWindow:"N",menuUrl:m.data.result==="ok"?o.find(({menuId:g})=>g===m.data.object[0].propertyValue).menuUrl:"/notice",current:r==="home"};if(c(E),r.endsWith("home"))p(E.menuUrl);else if(r.endsWith("bookmark")){const{menuUrl:g}=o.find(f=>f.menuId===r.split("_")[0]);p(g)}else{const{menuUrl:g}=o.find(f=>f.menuId===r);p(g)}})()},[b.menuList,b.selectedMenuId,b.isMenuRefresh]);const s=l.useCallback(()=>{c(r=>S(r,h=>{h.current=!1})),M(r=>S(r,h=>{h.forEach(o=>{o.current=!1})})),C(r=>S(r,h=>{h.forEach(o=>{o.current=!1})}))},[n,u,I]),p=l.useCallback((r,h="N")=>{t(),h==="Y"?window.open(`${J}${r}`):T(`${J}${r}`)},[t]),d=l.useCallback((r,h)=>{if(r.endsWith("home"))n.openWindow==="N"?(N("selectedMenuId",r),s(),c(o=>S(o,m=>{m.current=!0}))):sessionStorage.setItem("selectedMenuId",r),p(n.menuUrl,n.openWindow);else if(r.endsWith("bookmark"))if(h==="grp")M(o=>S(o,m=>{m[0].expand=!m[0].expand}));else{const{menuUrl:o,openWindow:m}=u.find(i=>i.menuId===r);m==="N"?(N("selectedMenuId",r),s(),M(i=>S(i,w=>{const E=w.find(g=>g.menuId===r);E.current=!0}))):sessionStorage.setItem("selectedMenuId",r),o&&p(o,m)}else if(h==="grp")C(o=>S(o,m=>{const i=m.find(w=>w.menuId===r);i.expand=!i.expand}));else{const{menuUrl:o,openWindow:m}=I.find(i=>i.menuId===r);m==="N"?(N("selectedMenuId",r),s(),C(i=>S(i,w=>{const E=w.find(g=>g.menuId===r);E.current=!0}))):sessionStorage.setItem("selectedMenuId",r),o&&p(o,m)}},[n,u,I]),x=l.useCallback(async r=>{if(r.endsWith("bookmark")||u.find(h=>h.menuId===`${r}_bookmark`)){if((await new k("/api/entity/menuBookmark/object").delete({param:{pk:{menuId:r.replace("_bookmark",""),userId:b.userInfo.userId}},isViewSpinner:!0})).data.result!=="ok")return;M(o=>S(o,m=>{const i=m.findIndex(w=>(r.endsWith("bookmark")?r:`${r}_bookmark`)===w.menuId);i!==-1&&m.splice(i,1)}))}else{if((await new k("/api/entity/menuBookmark/object").create({param:{pk:{menuId:r.replace("_bookmark",""),userId:b.userInfo.userId}},isViewSpinner:!0})).data.result!=="ok")return;M(o=>S(o,m=>{const i=I.find(w=>r===w.menuId);i&&m.push(S(i,w=>{w.menuId=`${w.menuId}_bookmark`,w.parentMenuId="bookmark",w.current=!1}))}))}},[I,u]),y=l.useCallback((r="0",h=!1,o=0,m)=>e.jsx("div",{className:r==="0"?"":`pl-4 ${h?"":"hidden"}`,children:e.jsx("ul",{children:m.filter(i=>r===i.parentMenuId).map(i=>{const E=0<m.filter(f=>i.menuId===f.parentMenuId).length,g=i.current&&!E?"active":"";return e.jsxs("li",{children:[e.jsx("button",{type:"button",id:`mn_${i.menuId}`,className:`${`${E?"grp":"tgt"}`} ${g} group flex items-center w-full p-2 text-base rounded-lg`,onClick:f=>{f.target.parentNode.tagName!=="svg"&&d(i.menuId,E?"grp":"tgt")},onContextMenu:f=>{i.menuId!=="home"&&(f.preventDefault(),b.selectedMenuId.replace("_bookmark","")===i.menuId.replace("_bookmark","")?(L(null),W(!1),j({display:"none"}),R({type:G.WARNING,message:a("msg.warn.newTab")})):(L(i.menuId),j({display:"block",left:`${f.pageX}px`,top:`${f.pageY}px`})))},children:E?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1 ml-3 text-left whitespace-normal text-xs",children:a(i.menuName)}),e.jsx(q,{className:i.expand?"opacity-100 rotate-180":"opacity-0 group-hover:opacity-100 transition-opacity duration-200 ease-in"})]}):e.jsx(e.Fragment,{children:e.jsxs("span",{className:"flex flex-1 ml-3 text-left whitespace-normal text-xs",children:[i.menuId==="home"?e.jsx("i",{className:"icon-home text-sm"}):e.jsx("img",{className:"max-w-5 max-h-5",src:i.menuIcon}),e.jsx("p",{className:"pl-2",style:{width:`calc(15rem - 1rem - 2.5rem  - 0.75rem - ${o*1}rem)`},children:a(i.menuName)}),i.menuId!=="home"&&e.jsx(z,{className:`text-base ml-auto transition-opacity duration-200 
																 ${u.find(({menuId:f})=>f===i.menuId||f===`${i.menuId}_bookmark`)?"text-[#fdc202]":"text-[#d0d0d3]"}
																 opacity-0 group-hover:opacity-100`,onClick:x.bind(null,i.menuId)})]})})}),E?y(i.menuId,i.expand,o+1,m):null]},i.menuId)})})}),[n,u,I]),A=l.useMemo(()=>y("0",!1,0,[n]),[n,u,I]),B=l.useMemo(()=>1<u.length?y("0",!1,0,u):e.jsx("div",{children:e.jsx("ul",{children:e.jsxs("li",{children:[e.jsxs("button",{type:"button",className:"group grp flex items-center w-full p-2 text-base rounded-lg",children:[e.jsx("span",{className:"flex-1 ml-3 text-left whitespace-nowrap text-xs",children:a("label.bookmark")}),e.jsx(q,{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 ease-in"})]}),e.jsxs("p",{className:"px-5 py-2 leading-4 text-[.65rem] text-[#b8b9bd] whitespace-normal overflow-hidden text-ellipsis items-center flex",children:[e.jsx(z,{className:"text-[#fdc202] text-xs mr-1"}),a("msg.bookmark")]})]})})}),[n,u,I]),H=l.useCallback(()=>{$&&(le({menuId:$}),L(null),W(!1),j({display:"none"}))},[$,U]),ae=l.useMemo(()=>{if(I.length!==0)return y("0",!1,0,I)},[n,u,I]);return e.jsxs("div",{className:"sidebar w-60 flex-col border-r border-[#f0f1f6] dark:border-[#8a8b92] lg:flex max-lg:hidden",children:[e.jsx("div",{className:"menu flex-1 overflow-y-auto mt-20 border-t border-[#f0f1f6] dark:border-[#8a8b92]",children:e.jsx("div",{className:"flex flex-col flex-1",children:e.jsxs("div",{className:"flex flex-col flex-1 py-2",children:[A,e.jsx("div",{className:"my-3 border-b border-[#f0f1f6] dark:border-[#8a8b92]"}),B,e.jsx("div",{className:"my-3 border-b border-[#f0f1f6] dark:border-[#8a8b92]"}),ae]})})}),oe.createPortal(e.jsx("div",{className:"contextMenu absolute",style:P,children:e.jsx("div",{className:"bg-white w-60 border border-gray-300 rounded-lg flex flex-col text-sm py-2 px-21 text-[#152816] font-black shadow-lg",children:e.jsxs("div",{className:"flex hover:bg-gray-100 px-2 rounded cursor-pointer",onClick:H,children:[e.jsx("div",{className:"w-8 text-gray-900 ",children:e.jsx(ie,{className:"w-5 h-5"})}),e.jsx("div",{children:a("label.newTab")})]})})}),document.body)]})}function je({totalUserPrivileges:a}){const{t:k}=F(),[T,b]=l.useState(null),N=l.useMemo(()=>({columns:[{header:k("label.user.grantGrade"),name:"grade",width:"15%",align:"center"},{header:k("label.type"),name:"privilegeType",width:"15%",align:"center"},{header:k("label.name"),name:"privilegeId",width:"70%"}]}),[]),n=l.useCallback(c=>{b(c)},[]);return l.useEffect(()=>{T!==null&&a.length!==0&&T.grid.resetData(a.filter(({onlyFrontPrivilege:c})=>!c).map(c=>({grade:c.admin?"Admin":c.member?"Member":"None",privilegeType:c.privilegeType==="S"?"System":k("label.role"),privilegeId:c.privilegeId})))},[T,a]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full relative",children:e.jsx(de,{pagingInfo:{isUse:!1},gridOptions:N,isDataProcessingExternal:!0,gridCallback:n})})})}const Q={userId:"",userName:"",department:"",telephone:"",mobilephone:"",email:"",updateUserId:"",updateTimestamp:"",userDisableYn:"N",loginIp:"",passwordOld:"",passwordNew:"",passwordExpiration:"",userExpiration:"",loginAttempts:"",loginTimestamp:"",totalUserPrivileges:[]};function Me(){const{t:a}=F(),{modalAction:k,updateModalAction:T}=se(),[b,N]=l.useState(!0),[n,c]=l.useState(K(Q)),{generateBasicElement:u}=ue(),[M,I]=l.useState(!0),[C,$]=l.useState(!0),{openAlert:L}=V();l.useEffect(()=>{var t,s,p;if(N(((t=k.data)==null?void 0:t.mode)!=="modify"&&((s=k.data)==null?void 0:s.mode)!=="update"),_.CHANGE_MODE===k.type&&((p=k.data)==null?void 0:p.mode)==="update"){let d=null;n.mobilephone!==""&&!ce.test(n.mobilephone)?d="mobilephone":n.telephone!==""&&!me.test(n.telephone)?d="telephone":n.email!==""&&!pe.test(n.email)&&(d="email"),d!==null?(L({type:G.WARNING,message:a(`msg.user.format.${d}`)}),T({...k,data:{mode:"modify"}})):n.passwordOld?T({...k,data:{mode:"done",userInfo:n}}):(L({type:G.WARNING,message:`${a("msg.password.entered.noPassword")}`}),T({...k,data:{mode:"modify"}}))}},[k.data]),l.useEffect(()=>{b&&c(t=>({...t,passwordOld:"",passwordNew:""}))},[b]);const P=Y();l.useEffect(()=>{(async()=>{const{data:{object:t}}=await new P("/api/entity/user/object").read({});c({...K(Q),...t})})()},[]);const[j,U]=l.useState(0),[W]=l.useState([{navId:"basicInfo",navName:"label.basicInfo"},{navId:"authenticationInfo",navName:"label.authenticationInfo"},{navId:"privilegeInfo",navName:"label.user.privilegeInfo"}]),R=l.useCallback(()=>e.jsx("ul",{className:"flex bg-[#f5f6fb] pt-2 px-6 dark:bg-[#8080804d] dark:border-[#8080804d]",children:W.map((t,s)=>e.jsx("li",{onClick:()=>U(s),children:e.jsx("a",{className:`block px-6 py-3 rounded-t rounded-r text-xs leading-4 cursor-pointer hover:bg-white dark:text-white dark:hover:bg-[#808080b3] ${s===j?"bg-white font-bold text-[#151826] dark:bg-[#808080b3]":"text-[#15182680]"}`,children:a(`${t.navName}`)})},s))}),[j]);return e.jsxs("div",{className:"detail-modal h-full",children:[e.jsx(e.Fragment,{children:R()}),e.jsxs("div",{className:"flex-1 overflow-y-auto",style:{height:"calc(100% - 48px)"},children:[e.jsx("div",{className:`w-full h-full p-6 ${j===0?"":"hidden"}`,children:e.jsxs("div",{className:"grid lg:grid-cols-2 lg:gap-x-2",children:[e.jsx("div",{children:u({type:v.TEXT,pk:!0,name:`${a("label.user.default")} ${a("label.id")}`,state:n.userId,setState:t=>{c(s=>({...s,userId:String(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.telephone"),state:n.telephone,setState:t=>{c(s=>({...s,telephone:String(t)}))},regExpType:O.PHONENUM,disabled:b})}),e.jsx("div",{children:u({type:v.TEXT,pk:!0,name:`${a("label.user.default")} ${a("label.name")}`,state:n.userName,setState:t=>{c(s=>({...s,userName:String(t)}))},regExpType:O.NAME,disabled:b})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.email"),state:n.email,setState:t=>{c(s=>({...s,email:String(t)}))},regExpType:O.EMAIL,disabled:b})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.department"),state:n.department,setState:t=>{c(s=>({...s,department:String(t)}))},regExpType:O.DEFAULT,disabled:b})}),e.jsx("div",{children:u({type:v.TEXT,name:`${a("label.update")} ${a("label.user.default")}`,state:n.updateUserId,setState:t=>{c(s=>({...s,updateUserId:String(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.mobilephone"),state:n.mobilephone,setState:t=>{c(s=>({...s,mobilephone:String(t)}))},regExpType:O.PHONENUM,disabled:b})}),e.jsx("div",{children:u({type:v.TEXT,name:`${a("label.update")} ${a("label.timestamp")}`,state:X(n.updateTimestamp),setState:t=>{c(s=>({...s,updateTimestamp:String(t)}))},disabled:!0})})]})}),e.jsx("div",{className:`w-full h-full p-6 ${j===1?"":"hidden"}`,children:e.jsxs("div",{className:"grid lg:grid-cols-2 lg:gap-x-2",children:[e.jsx("div",{children:u({type:v.TEXT,pk:!0,name:a("label.user.disabled"),state:n.userDisableYn,setState:t=>{c(s=>({...s,userDisableYn:String(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.passwordExpiration"),state:X(n.passwordExpiration),setState:t=>{c(s=>({...s,passwordExpiration:String(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.TEXT,pk:!0,name:a("label.user.loginIp"),state:n.loginIp,setState:t=>{c(s=>({...s,loginIp:String(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.userExpiration"),state:X(n.userExpiration),setState:t=>{c(s=>({...s,userExpiration:String(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.PASSWORD,name:a("label.user.originPassword"),state:n.passwordOld,setState:t=>{c(s=>({...s,passwordOld:String(t)}))},regExpType:O.PASSWORD,disabled:b,encryption:M,setEncryption:()=>{I(!M)}})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.loginAttempts"),state:n.loginAttempts,setState:t=>{c(s=>({...s,loginAttempts:Number(t)}))},disabled:!0})}),e.jsx("div",{children:u({type:v.PASSWORD,name:a("label.user.newPassword"),state:n.passwordNew,setState:t=>{c(s=>({...s,passwordNew:String(t)}))},regExpType:O.PASSWORD,disabled:b,encryption:C,setEncryption:()=>{$(!C)}})}),e.jsx("div",{children:u({type:v.TEXT,name:a("label.user.loginTimestamp"),state:X(n.loginTimestamp),setState:t=>{c(s=>({...s,loginTimestamp:String(t)}))},disabled:!0})})]})}),e.jsx("div",{className:`w-full h-full p-6 ${j===2?"":"hidden"}`,children:e.jsx(je,{totalUserPrivileges:n.totalUserPrivileges})})]})]})}function Le(){const{t:a}=F(),k=xe(),{openModal:T}=be(),b=Y(),N=te(),{GlobalVariable:n,setGlobalVariable:c}=ee(),{userInfo:u}=ge();l.useEffect(()=>{c("userInfo",u),(async()=>{const{data:{result:t,object:s}}=await new b("/api/entity/userTheme/page").read({param:{object:{userId:u.userId},next:null,reverseOrder:!1,sortColumnInfo:{nameList:[],reverseList:[]},pageNo:1}}),d=s.find(({userId:y})=>y===u.userId),x=t==="ok"&&d?d.darkModeYn:"N";x==="Y"&&document.body.classList.add("dark"),c("isDarkMode",x==="Y")})()},[]),l.useEffect(()=>{const t=s=>{Ie.includes(s.key)&&N(!1)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[N]),l.useEffect(()=>{if(!n.isCheckMotion||n.isAutoRefreshActive)return;const t=()=>{const d=Number(localStorage.getItem("motionTime"));return d===null||n.autoLogoutTime<Date.now()-d?(sessionStorage.setItem("noMotion",String(!0)),k(),!1):!0},s=new Worker(URL.createObjectURL(new Blob([`self.onmessage = (evt) => {
							const { refreshToken, motionDetectTime } = evt.data;
						 	
						 	setInterval(() => { 
								postMessage({ refreshToken });
						 	}, motionDetectTime);
						};`],{type:"application/javascript"})));s.postMessage({motionDetectTime:n.motionDetectTime,refreshToken:localStorage.getItem("refreshToken")}),s.onmessage=d=>{localStorage.getItem("refreshToken")?t()?d.data.refreshToken!==localStorage.getItem("refreshToken")&&s.terminate():s.terminate():(s.terminate(),k())};const p=()=>{t()&&localStorage.setItem("motionTime",String(Date.now()))};return document.body.addEventListener("keyup",p),document.body.addEventListener("mouseup",p),document.body.addEventListener("mousemove",p),()=>{s.terminate(),document.body.removeEventListener("keyup",p),document.body.removeEventListener("mouseup",p),document.body.removeEventListener("mousemove",p)}},[n.isCheckMotion,n.isAutoRefreshActive]);const M=l.useCallback(()=>{const t=1024<=window.innerWidth?"sidebar-toggled":"sidebar-opened";document.body.classList.contains(t)?document.body.classList.remove(t):document.body.classList.add(t)},[]),I=l.useMemo(()=>{if(n.menuList.length===0)return e.jsx("p",{className:"path-active lg:text-3xl max-lg:text-sm px-3",children:a("label.home")});const t=n.selectedMenuId;if(t){if(t==="home")return e.jsx("p",{className:"path-active lg:text-3xl max-lg:text-sm px-3",children:a("label.home")});{const s=n.menuList;if(t.endsWith("bookmark")){const{menuName:p}=s.find(({menuId:d})=>d===t.replace("_bookmark",""));return e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"path lg:text-xl max-lg:text-sm px-3",children:a("label.bookmark")}),e.jsx(Z,{}),e.jsx("p",{className:"path-active lg:text-3xl max-lg:text-sm px-3",children:a(p)})]})}else{const p=[];let d=s.find(({menuId:x})=>t===x);for(;d;)p.push(d),d=s.find(({menuId:x})=>d.parentMenuId===x);return e.jsx(e.Fragment,{children:p.reverse().map((x,y)=>y===p.length-1?e.jsx("p",{className:"path-active lg:text-3xl max-lg:text-sm px-3",children:a(x.menuName)},y):e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx("p",{className:"path lg:text-xl max-lg:text-sm px-3",children:a(x.menuName)},y),e.jsx(Z,{})]},y))})}}}else return e.jsx("p",{className:"path-active lg:text-3xl max-lg:text-sm px-3",children:a("label.home")})},[n.menuList,n.selectedMenuId]),[C,$]=l.useState(""),[L,P]=l.useState(!1),j=l.useCallback(t=>{document.querySelector(`.menu #mn_${t}`).click(),P(!1)},[]),U=l.useCallback(()=>{const t=n.menuList,s=t.filter(d=>d.menuUrl&&a(`${d.menuName}`).includes(C)&&(!d.menuPrivilegeId||u.totalUserPrivileges.find(x=>x.privilegeId===d.menuPrivilegeId))),p=[];return s.forEach(d=>{let x=t.find(y=>y.menuId===d.parentMenuId);for(;x&&x.parentMenuId!=="0";)x=t.find(y=>y.menuId===x.parentMenuId);p.some(y=>y.menuId===x.menuId)||p.push(x)}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute flex top-0 left-0 w-full h-screen px-[10%] py-[70px] bg-white m-0 dark:bg-[#1f2337]",children:p.map(d=>e.jsx("div",{className:"border-x border-solid border-[#f0f1f6] dark:border-[#8a8b92] w-full h-full overflow-auto ",children:e.jsxs("ul",{className:"block text-[#151826] text-lg font-semibold",children:[e.jsx("li",{className:"text-2xl mb-2 px-6 py-2 cursor-pointer list-none dark:text-white",children:a(`${d.menuName}`)}),s.filter(x=>x.menuId.startsWith(d.menuId.substring(0,1))).map(x=>e.jsxs("li",{className:"cursor-pointer px-6 py-2 leading-4 list-none flex items-center hover:bg-[#f5f6fb] dark:hover:bg-[#8080804d] dark:text-white",onClick:j.bind(null,x.menuId),children:[e.jsx("img",{src:x.menuIcon,className:"w-4 h-4 mr-1"}),e.jsx("p",{children:a(`${x.menuName}`)})]},x.menuId))]})},d.menuId))}),e.jsx("input",{type:"text",placeholder:a("label.search.default"),style:{backgroundSize:"1rem",backgroundPositionX:".5rem",backgroundPositionY:"50%"},className:"relative min-w-16 h-full p-2 pl-8  bg-white border border-solid border-[#babbc2] rounded bg-[url('@/assets/img/search.svg')] dark:bg-[url('@/assets/img/dark_search.svg')] bg-no-repeat dark:bg-[#484f70] dark:border-[#51597d] dark:text-white",onChange:d=>$(d.target.value)})]})},[n.menuList,C]),W=l.useCallback(()=>{T({title:`${a("label.user.default")} ${a("label.info")}`,width:800,height:700,Content:()=>e.jsx(fe,{children:e.jsx(Me,{})}),Button:()=>{const{openAlert:t}=V(),[s,p]=l.useState(!1),{modalAction:d,updateModalAction:x}=se();l.useEffect(()=>{(async()=>{var A;if(_.CHANGE_MODE===d.type&&((A=d.data)==null?void 0:A.mode)==="done"){const B=d.data.userInfo,{data:{result:H}}=await new b("/api/entity/user/object").update({param:{...B}});H==="ok"&&(p(!s),x({type:_.CHANGE_MODE,data:{mode:"detail"}}),t({type:G.COMPLETE,message:`${a("msg.alert.update")}`}))}})()},[d.data]);const y=A=>{x({type:_.CHANGE_MODE,data:{mode:A}}),A!=="update"&&p(!s)};return e.jsxs(e.Fragment,{children:[s?e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md px-4 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 hover:shadow-indigo-500/40 mt-0 w-auto dark:bg-[#484f70] dark:ring-[#51597d] dark:text-white",onClick:()=>y("cancel"),children:a("label.cancel")}):e.jsx(e.Fragment,{}),e.jsx("button",{type:"button",className:`inline-flex justify-center rounded-md px-4 py-2 text-sm font-semibold shadow-sm ring-1 ring-inset hover:shadow-indigo-500/40 mt-0 w-auto ${s?"text-white ring-gray-900 bg-gray-900 hover:bg-gray-900":"text-gray-900 ring-gray-300 hover:bg-gray-50"} dark:bg-[#484f70] dark:ring-[#51597d] dark:text-white`,onClick:()=>y(s?"update":"modify"),children:a("label.update")})]})}})},[]),R=l.useCallback(async t=>{const{data:{result:s}}=await new b("/api/entity/userTheme/object").read({param:{userId:u.userId},errorMsgCallback:()=>{}});(await new b("/api/entity/userTheme/object")[s==="ok"?"update":"create"]({param:{userId:u.userId,darkModeYn:t?"Y":"N"}})).data.result==="ok"&&(c("isDarkMode",t),document.body.classList[t?"add":"remove"]("dark"))},[]);return e.jsxs("div",{className:"w-screen h-screen overflow-hidden dark:bg-[#1f2337]",children:[e.jsxs("div",{className:"flex h-full",children:[e.jsx(Ne,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"header min-h-20 max-lg:min-h-14",children:e.jsxs("div",{className:"flex items-center h-full",children:[e.jsxs("div",{className:"flex lg:justify-start max-lg:justify-end lg:-translate-x-60 max-lg:flex-row-reverse logo-area",children:[e.jsx("img",{src:n.isDarkMode?ve:we,className:"ml-5 mr-16 cursor-pointer",alt:"INZENT",onClick:j.bind(null,"home")}),e.jsx("div",{className:"w-7 h-7 flex items-center lg:ml-auto lg:mr-2 max-lg:ml-3",onClick:M,children:e.jsx("i",{className:"icon-hamburger-back text-2xl cursor-pointer max-lg:rotate-180"})})]}),e.jsx("div",{className:"flex items-center lg:-mx-60 max-lg:absolute max-lg:top-14 max-lg:h-11 max-lg:w-full max-lg:bg-gray-50 max-lg:border-y max-lg:border-y-layout dark:text-white dark:max-lg:bg-[#8080804d] dark:border-[#808080b3]",children:I}),e.jsxs("div",{className:"ml-auto mr-5 flex space-x-3 items-center z-[3]",children:[L&&U(),n.isDarkMode?e.jsx("button",{className:"relative text-3xl max-lg:text-2xl pt-1 text-[#8a8b92] focus:outline-none",title:a("label.mode.day"),onClick:R.bind(null,!1),children:e.jsx(he,{})}):e.jsx("button",{className:"relative text-3xl max-lg:text-2xl pt-1 text-[#8a8b92] focus:outline-none",title:a("label.mode.dark"),onClick:R.bind(null,!0),children:e.jsx(ke,{})}),e.jsx("button",{className:"relative text-3xl max-lg:text-2xl focus:outline-none",title:a("label.sitemap"),onClick:P.bind(null,!L),children:e.jsx("i",{className:L?"icon-close":"icon-list"})}),!L&&e.jsx("button",{className:"relative text-3xl max-lg:text-2xl focus:outline-none",title:`${a("label.user.default")} ${a("label.info")}`,onClick:W.bind(null),children:e.jsx("i",{className:"icon-profile"})}),e.jsx("button",{className:"relative text-3xl max-lg:text-2xl focus:outline-none",title:a("label.logout"),onClick:k,children:e.jsx("i",{className:"icon-logout"})})]})]})}),e.jsx("div",{className:"flex-1 border-t border-[#f0f1f6] dark:border-[#8a8b92]",children:e.jsx("div",{id:"ct",className:"w-full h-full",children:e.jsx(ye,{})})})]})]}),e.jsx("div",{className:"h-full w-full absolute top-0 bg-black opacity-70 hidden menu-backdrop z-[49]",onClick:M})]})}export{Le as default};
